/*! rosariosis 2019-06-11 */

function popups(){this.childs=[],this.open=function(e,t){t||(t="scrollbars=yes,resizable=yes,width=800,height=400"),this.childs.push(window.open(e,"",t))},this.closeAll=function(){for(var e=0,t=this.childs.length;e<t;e++){var o=this.childs[e];o.closed||o.close()}}}function isTouchDevice(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function submenuOffset(){$(".adminmenu .menu-top").mouseover(function(){var e=$(this).next(".wp-submenu"),t=$("#footer").offset().top;t+="0px"!=$("#footer").css("bottom")?window.innerHeight:0,moveup=t-$(this).offset().top-e.outerHeight(),e.css("margin-top",(moveup<0?moveup:0)+"px")})}for(var addHTML=function(e,t,o){var n=document.getElementById(t);o?$(n).html(e):$(n).append(e)},checkAll=function(e,t,o){for(var n=0,i=e.elements.length;n<i;n++){var r=e.elements[n];"checkbox"==r.type&&r.name.substr(0,o.length)==o&&(r.checked=t)}},switchMenu=function(e){$(e).toggleClass("switched").nextAll("table").first().toggle()},tags="article|aside|footer|header|hgroup|nav|section".split("|"),i=0,max=tags.length;i<max;i++)document.createElement(tags[i]);var popups=new popups,touchScroll=function(e){var t=0,o=0;e.addEventListener("touchstart",function(e){t=this.scrollTop+e.touches[0].pageY,o=this.scrollLeft+e.touches[0].pageX},!1),e.addEventListener("touchmove",function(e){var n=e.touches[0];(this.scrollTop<this.scrollHeight-this.offsetHeight&&this.scrollTop+n.pageY<t-5||0!==this.scrollTop&&this.scrollTop+n.pageY>t+5)&&e.preventDefault(),(this.scrollLeft<this.scrollWidth-this.offsetWidth&&this.scrollLeft+n.pageX<o-5||0!==this.scrollLeft&&this.scrollLeft+n.pageX>o+5)&&e.preventDefault(),this.scrollTop=t-n.pageY,this.scrollLeft=o-n.pageX},!1)};isTouchDevice()?$(document).bind("cbox_complete",function(){touchScroll(document.getElementById("cboxLoadedContent"))}):document.documentElement.className+=" no-touch";var ColorBox=function(){var e=640,t=390;screen.width<768&&(e=300,t=183),$(".rt2colorBox").before(function(e){if(this.id){var t=$(this);if(t.text().length>36||t.children().height()>t.parent().height())return'<div class="link2colorBox"><a class="colorboxinline" href="#'+this.id+'"></a></div>'}}),$(".colorbox").colorbox(),$(".colorboxiframe").colorbox({iframe:!0,innerWidth:e,innerHeight:t}),$(".colorboxinline").colorbox({inline:!0,maxWidth:"95%",maxHeight:"85%",scrolling:!0})},md_last_val={},GetMDConverter=function(){return void 0===GetMDConverter.mdc&&(GetMDConverter.mdc=new showdown.Converter({tables:!0,simplifiedAutoLink:!0,parseImgDimensions:!0,tasklists:!0,literalMidWordUnderscores:!0,literalMidWordAsterisks:!0,simpleLineBreaks:!0,openLinksInNewWindow:!0,excludeTrailingPunctuationFromURLs:!0})),GetMDConverter.mdc},MarkDownInputPreview=function(e){var t=$("#"+e),o=t.val(),n=$("#divMDPreview"+e);if(!n.is(":visible")&&""!==o&&md_last_val[e]!==o){md_last_val[e]=o;var i=GetMDConverter();n.html(i.makeHtml(o))}n.is(":visible")||n.css("height",t.css("height")),n.toggle(),t.toggle(),t.next("br").toggle(),n.siblings(".tab").toggleClass("disabled")},MarkDownToHTML=function(){$(".markdown-to-html").html(function(e,t){return GetMDConverter().makeHtml(t)})},JSCalendarSetup=function(){$(".button.cal").each(function(e,t){var o=t.id.replace("trigger","");Calendar.setup({monthField:"monthSelect"+o,dayField:"daySelect"+o,yearField:"yearSelect"+o,ifFormat:"%d-%b-%y",button:t.id,align:"Tl",singleClick:!0})})},ajaxOptions=function(e,t,o){return{beforeSend:function(e){$(".ajax-error").hide(),$(".loading").css("visibility","visible")},success:function(n,i,r){var a=r.getResponseHeader("X-Redirect-Url");if(a)t=a;else if(o&&"get"==o.method){var s=[];if("search"==o.name){var l=$(o).formToArray();$(l).each(function(e,t){""!==t.value&&s.push(t.name+"="+t.value)}),s=s.join("&")}else s=$(o).formSerialize();t+=(-1!=t.indexOf("?")?"&":"?")+s}ajaxSuccess(n,e,t)},error:function(n,i,r){ajaxError(n,i,r,t,e,o)},complete:function(){$(".loading").css("visibility","hidden"),hideHelp()}}},ajaxError=function(e,t,o,n,i,r){var a=e.status,s="AJAX error. "+a+" ";if(void 0===ajaxError.num&&(ajaxError.num=0),ajaxError.num++,0===a){if(s+="Check your Network",n&&1===ajaxError.num)return void window.setTimeout(function(){$.ajax(n,ajaxOptions(i,n,r))},1e3)}else s+="parsererror"==t?"JSON parse failed":"timeout"==t?"Request Timeout":"abort"==t?"Request Aborted":o;s+=". "+n,ajaxError.num=0,$(".ajax-error").html(s).fadeIn()},ajaxLink=function(e){var t,o;if("string"==typeof e?(o="body","Side.php"==(t=e)?o="menu":"Side.php?sidefunc=update"==t?o="menu-top":0===t.indexOf("Bottom.php")&&(o="footer")):(t=e.href,o=e.target),-1!=t.indexOf("#")||"_blank"==o||"_top"==o)return!0;if(!o){if(-1==t.indexOf("Modules.php"))return!0;o="body"}return $.ajax(t,ajaxOptions(o,t,!1)),!1},ajaxPostForm=function(e,t){var o=e.target||"body";if(-1!=e.action.indexOf("_ROSARIO_PDF"))return e.target="_blank",e.method="post",!0;if("_top"==o)return!0;"multipart/form-data"!==e.enctype||$(e).has('input[type="file"]').length||(e.enctype="application/x-www-form-urlencoded");var n=ajaxOptions(o,e.action,e);return t?$(e).ajaxSubmit(n):$(e).ajaxForm(n),!1},ajaxSuccess=function(e,t,o){"body"==t&&$("html").focus(),$("#"+t).html(e);var n=document;history.pushState&&"body"==t&&n.URL!=o&&history.pushState(null,n.title,o),ajaxPrepare("#"+t)},ajaxPrepare=function(e){$(e+" form").each(function(){ajaxPostForm(this,!1)}),"#menu"==e&&(window.modname&&openMenu(modname),screen.width>736&&submenuOffset()),isTouchDevice()&&$(".rt").each(function(e,t){touchScroll(t.tBodies[0])});var t=$("#body h3.title").first().text(),o=$("#body h2").first().text();document.title=o&&t?o+" | "+t:o+t,"#body"!=e&&"body"!=e||(openMenu(),screen.width<735&&$("#menu").addClass("hide"),document.body.scrollIntoView(),$("#body").scrollTop(0),popups.closeAll(),MarkDownToHTML(),ColorBox(),JSCalendarSetup(),repeatListTHead($("table.list")))};$(document).ajaxStart(function(){$('input[type="submit"],input[type="button"],a').css("pointer-events","none")}).ajaxStop(function(){$('input[type="submit"],input[type="button"],a').css("pointer-events","")}),window.onload=function(){$.ajaxPrefilter("script",function(e){e.cache=!0}),isTouchDevice()&&$(".adminmenu .menu-top").on("click touch",function(e){return e.preventDefault(),$("#selectedModuleLink").attr("id",""),$(this).attr("id","selectedModuleLink"),$(this).offset().top<this.scrollHeight&&$("#menu").scrollTop($("#menu")[0].scrollTop-Math.abs($(this).offset().top)-this.scrollHeight),screen.width>736&&fixedMenu(),!1}),$(document).on("click","a",function(e){return"none"==$(this).css("pointer-events")?e.preventDefault():ajaxLink(this)}),screen.width>736&&(fixedMenu(),submenuOffset()),ajaxPrepare("body"),history.pushState&&window.setTimeout(ajaxPopState(),1)};var ajaxPopState=function(){window.addEventListener("popstate",function(e){ajaxLink(document.URL)},!1)};window.onunload=function(){},window.performance&&2==window.performance.navigation.type&&-1!=document.URL.indexOf("Modules.php?")&&(window.location.href="index.php?modfunc=logout");var LOSearch=function(e,t,o){if("click"===e.type||13==e.keyCode)return e.preventDefault(),ajaxLink(o+(t?"&LO_search="+encodeURIComponent(t):""))},repeatListTHead=function(e){e.length&&e.each(function(e,t){var o=$(t).children("thead,tbody").children("tr"),n=o.length;if(n>20){for(var i=o[0],r=n>40?20:n-1,a=[];r<n;r+=20){var s=o[r];a.push(s)}$(i).clone().addClass("thead-repeat").insertAfter(a)}})},openMenu=function(){$("#selectedMenuLink,#selectedModuleLink").attr("id",""),window.modname&&modname&&"misc/Portal.php"!=modname&&($('.wp-submenu a[href$="'+modname+'"]').first().attr("id","selectedMenuLink"),$("#selectedMenuLink").parents(".menu-module").children(".menu-top").attr("id","selectedModuleLink"))},toggleHelp=function(){"block"!==$("#footerhelp").css("display")?showHelp():hideHelp()},showHelp=function(){var e=$("#footerhelp");modname!==showHelp.tmp?($(".loading").css("visibility","visible"),$.get("Bottom.php?bottomfunc=help&modname="+encodeURIComponent(modname),function(t){showHelp.tmpdata=t,e.html(t).scrollTop(0),isTouchDevice()&&touchScroll(e[0])}).fail(ajaxError).always(function(){$(".loading").css("visibility","hidden")}),showHelp.tmp=modname):showHelp.tmpdata&&!e.html()&&e.html(showHelp.tmpdata),e.show(),$("#footer").css("height",function(t,o){return parseInt(o,10)+parseInt(e.css("height"),10)})},hideHelp=function(){$("#footerhelp").hide(),$("#footer").css("height","")},expandMenu=function(){$("#menu").toggleClass("hide")};
//# sourceMappingURL=warehouse.min.js.map